{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,UACa,CACXC,OAAQC,SAASC,cAAc,WAE5BF,OAAOG,iBAAiB,UAe7B,SAAsBC,GACpBA,EAAMC,iBAIR,IAHA,IAAIC,EAAQC,OAAOH,EAAMI,cAAcF,MAAMG,OACvCC,EAAOH,OAAOH,EAAMI,cAAcG,KAAKF,OACvCG,EAASL,OAAOH,EAAMI,cAAcK,OAAOJ,OACxCK,EAAI,EAAGA,EAAIF,EAAQE,GAAG,EAE3BC,EAAcD,EADbR,GAASI,GACcM,KAAKC,GAAWC,MAAMC,E,IApBlD,IAAMJ,EAAgB,SAACK,EAAUd,GAC7B,OAAO,IAAIe,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFF,EAAQ,CAACF,WAAUd,UAEnBiB,EAAQ,CAACH,WAAUd,S,GAEpBA,E,KAcT,SAASW,EAAUW,G,IAACR,EAADQ,EAACR,SAAUd,EAAXsB,EAAWtB,MAC5BuB,EAAA/B,GAASgC,OAAOC,QAAQ,uBAAwCC,OAAfZ,EAAS,QAAYY,OAAN1B,EAAM,M,CAGtE,SAASa,EAAQS,G,IAACR,EAADQ,EAACR,SAAUd,EAAXsB,EAAWtB,MAC1BuB,EAAA/B,GAASgC,OAAOG,QAAQ,sBAAqCD,OAAfZ,EAAS,QAAYY,OAAN1B,EAAM,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst refs = {\n  formEl: document.querySelector(\".form\"),\n};\nrefs.formEl.addEventListener('submit', onSubmitForm);\n\nconst createPromise = (position, delay) => {\n    return new Promise((resolve, reject)=> {\n      const shouldResolve = Math.random() > 0.3;\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({position, delay});\n        } else {\n          reject ({position, delay});\n        }\n      }, delay);\n    }\n)\n}\nfunction onSubmitForm(event){\n  event.preventDefault();\nlet delay = Number(event.currentTarget.delay.value);\nconst STEP = Number(event.currentTarget.step.value);\nconst AMOUNT = Number(event.currentTarget.amount.value);\nfor (let i = 0; i < AMOUNT; i+=1) {  \n     delay += STEP;\n    createPromise(i, delay).then(onSuccess).catch(onError);\n}\n}\nfunction onSuccess({position, delay}){\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n};\n\n  function onError({position, delay}){\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  };\n \n \n\n\n"],"names":["$iU1Pc","parcelRequire","formEl","document","querySelector","addEventListener","event","preventDefault","delay","Number","currentTarget","value","STEP","step","AMOUNT","amount","i","$ce04d3a99e08e73b$var$createPromise","then","$ce04d3a99e08e73b$var$onSuccess","catch","$ce04d3a99e08e73b$var$onError","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","param","$parcel$interopDefault","Notify","success","concat","failure"],"version":3,"file":"03-promises.2ea2c174.js.map"}