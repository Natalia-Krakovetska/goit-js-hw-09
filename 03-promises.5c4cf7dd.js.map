{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,UACa,CACXC,OAAQC,SAASC,cAAc,WAE5BF,OAAOG,iBAAiB,UAe7B,SAAsBC,GACpBA,EAAMC,iBACR,IAAIC,EAAQC,OAAOH,EAAMI,cAAcF,MAAMG,OAC7C,MAAMC,EAAOH,OAAOH,EAAMI,cAAcG,KAAKF,OACvCG,EAASL,OAAOH,EAAMI,cAAcK,OAAOJ,OACjD,IAAK,IAAIK,EAAI,EAAGA,EAAIF,EAAQE,GAAG,EAC1BR,GAASI,EACVK,EAAcD,EAAGR,GAAOU,KAAKC,GAAWC,MAAMC,E,IApBlD,MAAMJ,EAAgB,CAACK,EAAUd,IACtB,IAAIe,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,KACLH,EACFF,EAAQ,C,SAACF,E,MAAUd,IAEnBiB,EAAQ,C,SAACH,E,MAAUd,GAAO,GAE3BA,EAAM,IAcf,SAASW,GAAUG,SAACA,EAAQd,MAAEA,IAC5BsB,EAAA9B,GAAS+B,OAAOC,QAAQ,uBAAqBV,QAAiBd,M,CAG9D,SAASa,GAAQC,SAACA,EAAQd,MAAEA,IAC1BsB,EAAA9B,GAAS+B,OAAOE,QAAQ,sBAAoBX,QAAed,M","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst refs = {\n  formEl: document.querySelector(\".form\"),\n};\nrefs.formEl.addEventListener('submit', onSubmitForm);\n\nconst createPromise = (position, delay) => {\n    return new Promise((resolve, reject)=> {\n      const shouldResolve = Math.random() > 0.3;\n      setTimeout(() => {\n        if (shouldResolve) {\n          resolve({position, delay});\n        } else {\n          reject ({position, delay});\n        }\n      }, delay);\n    }\n)\n}\nfunction onSubmitForm(event){\n  event.preventDefault();\nlet delay = Number(event.currentTarget.delay.value);\nconst STEP = Number(event.currentTarget.step.value);\nconst AMOUNT = Number(event.currentTarget.amount.value);\nfor (let i = 0; i < AMOUNT; i+=1) {  \n     delay += STEP;\n    createPromise(i, delay).then(onSuccess).catch(onError);\n}\n}\nfunction onSuccess({position, delay}){\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n};\n\n  function onError({position, delay}){\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  };\n \n \n\n\n"],"names":["$eWCmQ","parcelRequire","formEl","document","querySelector","addEventListener","event","preventDefault","delay","Number","currentTarget","value","STEP","step","AMOUNT","amount","i","$47d4ff9957288465$var$createPromise","then","$47d4ff9957288465$var$onSuccess","catch","$47d4ff9957288465$var$onError","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$parcel$interopDefault","Notify","success","failure"],"version":3,"file":"03-promises.5c4cf7dd.js.map"}